<%- include('../partials/head'); %>

  <%- include('../partials/navbar'); %>

  <section class="container bg-success bg-opacity-25 d-flex flex-column justify-content-around align-items-center bg-success p-3 my-5 rounded-5 shadow h-auto">
    <h3 
      id="title_category" 
      class="display-3 pb-2"
    >
      <%= category.categoryName; %>
    </h3>

    <form 
      id="form_edit_category"
      action="/updateCategory/<%= category._id; %>" 
      method="post"
      class="flex-row align-items-center"
    >
      <input 
        type="text" 
        id="categoryName" 
        class="p-3 rounded-4 border-0 shadow-sm"
        name="categoryName"  
        placeholder="Editeaza categoria" 
        value="<%= category.categoryName; %>"
      >
      <button 
        id="process_edit_category"
        class="rounded-4 p-3 m-2 bg-white shadow-sm border-0"
      >
        Editeaza
      </button>
    </form>

    <div class="d-flex flex-row flex-nowrap justify-content-between align-items-center w-50">
      <button 
        id="edit_category" 
        class="rounded-4 p-3 m-2 bg-white shadow-sm border-0"
      >
        Editeaza
      </button>

      <form 
        action="/deleteCategory/<%= category._id; %>" 
        method="post"
        id="delete_category" 
      >
        <button 
          class="rounded-4 p-3 m-2 bg-white shadow-sm border-0"
        >
          Sterge
        </button>
      </form>
    </div>
  </section>

  <section class="container bg-success bg-opacity-25 mx-auto my-5 p-3 text-center shadow rounded-5">
    <button 
      id="add_product"
      class="rounded-4 p-3 m-2 bg-white shadow-sm border-0"
    >
      Adauga un produs
    </button>

    <form 
      action="/category/<%= category._id; %>" 
      method="post" 
      id="form_product"
      class="flex-column flex-nowrap justify-content-between align-items-center"
    >
      <input 
        type="text" 
        id="nameProduct"
        class="p-3 my-2 rounded-4 border-0 shadow-sm" 
        name="nameProduct" 
        placeholder="Adauga numele produsului"
      >
      <input 
        type="text" 
        id="brandProduct" 
        class="p-3 my-2 rounded-4 border-0 shadow-sm"
        name="brandProduct" 
        placeholder="Care este brand-ul tau?"
      >
      <div class="element d-flex flex-row justify-content-center shadow-sm rounded-4 my-2">
        <input 
          type="file" 
          name="imageProduct" 
          id="imageProduct"
          accept="image/*"
          class="d-none"
        >
        <label 
          for="imageProduct" 
          id="imageProduct-preview" 
          class="rounded-4"
        >
        <img 
          src="/images/post_model.jpg" 
          class="rounded"
        >
        <div class="add rounded">
          <div class="rotate">
              <div class="line1"></div>
              <div class="line2"></div>
          </div>
        </div>
        </label>
      </div>
      <input 
        type="text" 
        id="priceProduct" 
        class="p-3 my-2 rounded-4 border-0 shadow-sm"
        name="priceProduct" 
        placeholder="Adauga pretul produsului"
      >
      <input 
        type="tel" 
        id="contactProduct" 
        class="p-3 my-2 rounded-4 border-0 shadow-sm"
        name="contactProduct" 
        placeholder="Adauga un numar de contact"
      >
      <textarea 
        id="infoProduct" 
        class="p-3 my-2 rounded-4 border-0 shadow-sm"
        name="infoProduct" 
        placeholder="Descrieti produsul"
      ></textarea>

      <button 
        id="process_add_product"
        class="rounded-4 p-3 m-2 bg-white shadow-sm border-0"
      >
        Adauga produsul
      </button>
    </form>
  </section>

  <section class="d-flex flex-row flex-wrap justify-content-around align-items-center">
    <% category.products.forEach(function(product){ %>
      <a 
        href="/product/<%= product._id; %>" 
        class="text-decoration-none text-black bg-success bg-opacity-10 d-flex flex-column justify-content-between align-items-center py-3 px-5 m-3 rounded-4 shadow-sm"
      >
        <h5 class="display-5 border-2 border-bottom border-dark pb-2 w-100 text-center"><%= product.productName %></h5>
        <p class="mb-1">Brand: <%= product.brand %></p>
        <p class="mb-1">Categoria: <%= product.productCategory %></p>
        <p class="mb-1">Pret: <%= product.price %> RON / KG</p>
        <p class="mb-1">Contact: <%= product.contact %></p>
      </a>
      <% }); %>
  </section>

<%- include('../partials/footer'); %>